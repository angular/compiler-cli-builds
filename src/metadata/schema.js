/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
(function (factory) {
    if (typeof module === "object" && typeof module.exports === "object") {
        var v = factory(require, exports);
        if (v !== undefined) module.exports = v;
    }
    else if (typeof define === "function" && define.amd) {
        define("@angular/compiler-cli/src/metadata/schema", ["require", "exports"], factory);
    }
})(function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.isMetadataError = exports.isMetadataSymbolicSpreadExpression = exports.isMetadataSymbolicSelectExpression = exports.isMetadataSymbolicReferenceExpression = exports.isMetadataImportDefaultReference = exports.isMetadataImportedSymbolReferenceExpression = exports.isMetadataModuleReferenceExpression = exports.isMetadataGlobalReferenceExpression = exports.isMetadataSymbolicIfExpression = exports.isMetadataSymbolicPrefixExpression = exports.isMetadataSymbolicCallExpression = exports.isMetadataSymbolicIndexExpression = exports.isMetadataSymbolicBinaryExpression = exports.isMetadataSymbolicExpression = exports.isFunctionMetadata = exports.isConstructorMetadata = exports.isMethodMetadata = exports.isMemberMetadata = exports.isInterfaceMetadata = exports.isClassMetadata = exports.isModuleMetadata = exports.METADATA_VERSION = void 0;
    // Metadata Schema
    // If you make a backwards incompatible change to the schema, increment the METADTA_VERSION number.
    // If you make a backwards compatible change to the metadata (such as adding an option field) then
    // leave METADATA_VERSION the same. If possible, supply as many versions of the metadata that can
    // represent the semantics of the file in an array. For example, when generating a version 2 file,
    // if version 1 can accurately represent the metadata, generate both version 1 and version 2 in
    // an array.
    exports.METADATA_VERSION = 4;
    function isModuleMetadata(value) {
        return value && value.__symbolic === 'module';
    }
    exports.isModuleMetadata = isModuleMetadata;
    function isClassMetadata(value) {
        return value && value.__symbolic === 'class';
    }
    exports.isClassMetadata = isClassMetadata;
    function isInterfaceMetadata(value) {
        return value && value.__symbolic === 'interface';
    }
    exports.isInterfaceMetadata = isInterfaceMetadata;
    function isMemberMetadata(value) {
        if (value) {
            switch (value.__symbolic) {
                case 'constructor':
                case 'method':
                case 'property':
                    return true;
            }
        }
        return false;
    }
    exports.isMemberMetadata = isMemberMetadata;
    function isMethodMetadata(value) {
        return value && (value.__symbolic === 'constructor' || value.__symbolic === 'method');
    }
    exports.isMethodMetadata = isMethodMetadata;
    function isConstructorMetadata(value) {
        return value && value.__symbolic === 'constructor';
    }
    exports.isConstructorMetadata = isConstructorMetadata;
    function isFunctionMetadata(value) {
        return value && value.__symbolic === 'function';
    }
    exports.isFunctionMetadata = isFunctionMetadata;
    function isMetadataSymbolicExpression(value) {
        if (value) {
            switch (value.__symbolic) {
                case 'binary':
                case 'call':
                case 'index':
                case 'new':
                case 'pre':
                case 'reference':
                case 'select':
                case 'spread':
                case 'if':
                    return true;
            }
        }
        return false;
    }
    exports.isMetadataSymbolicExpression = isMetadataSymbolicExpression;
    function isMetadataSymbolicBinaryExpression(value) {
        return value && value.__symbolic === 'binary';
    }
    exports.isMetadataSymbolicBinaryExpression = isMetadataSymbolicBinaryExpression;
    function isMetadataSymbolicIndexExpression(value) {
        return value && value.__symbolic === 'index';
    }
    exports.isMetadataSymbolicIndexExpression = isMetadataSymbolicIndexExpression;
    function isMetadataSymbolicCallExpression(value) {
        return value && (value.__symbolic === 'call' || value.__symbolic === 'new');
    }
    exports.isMetadataSymbolicCallExpression = isMetadataSymbolicCallExpression;
    function isMetadataSymbolicPrefixExpression(value) {
        return value && value.__symbolic === 'pre';
    }
    exports.isMetadataSymbolicPrefixExpression = isMetadataSymbolicPrefixExpression;
    function isMetadataSymbolicIfExpression(value) {
        return value && value.__symbolic === 'if';
    }
    exports.isMetadataSymbolicIfExpression = isMetadataSymbolicIfExpression;
    function isMetadataGlobalReferenceExpression(value) {
        return value && value.name && !value.module && isMetadataSymbolicReferenceExpression(value);
    }
    exports.isMetadataGlobalReferenceExpression = isMetadataGlobalReferenceExpression;
    function isMetadataModuleReferenceExpression(value) {
        return value && value.module && !value.name && !value.default &&
            isMetadataSymbolicReferenceExpression(value);
    }
    exports.isMetadataModuleReferenceExpression = isMetadataModuleReferenceExpression;
    function isMetadataImportedSymbolReferenceExpression(value) {
        return value && value.module && !!value.name && isMetadataSymbolicReferenceExpression(value);
    }
    exports.isMetadataImportedSymbolReferenceExpression = isMetadataImportedSymbolReferenceExpression;
    function isMetadataImportDefaultReference(value) {
        return value && value.module && value.default && isMetadataSymbolicReferenceExpression(value);
    }
    exports.isMetadataImportDefaultReference = isMetadataImportDefaultReference;
    function isMetadataSymbolicReferenceExpression(value) {
        return value && value.__symbolic === 'reference';
    }
    exports.isMetadataSymbolicReferenceExpression = isMetadataSymbolicReferenceExpression;
    function isMetadataSymbolicSelectExpression(value) {
        return value && value.__symbolic === 'select';
    }
    exports.isMetadataSymbolicSelectExpression = isMetadataSymbolicSelectExpression;
    function isMetadataSymbolicSpreadExpression(value) {
        return value && value.__symbolic === 'spread';
    }
    exports.isMetadataSymbolicSpreadExpression = isMetadataSymbolicSpreadExpression;
    function isMetadataError(value) {
        return value && value.__symbolic === 'error';
    }
    exports.isMetadataError = isMetadataError;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NoZW1hLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcGFja2FnZXMvY29tcGlsZXItY2xpL3NyYy9tZXRhZGF0YS9zY2hlbWEudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7OztHQU1HOzs7Ozs7Ozs7Ozs7O0lBRUgsa0JBQWtCO0lBRWxCLG1HQUFtRztJQUVuRyxrR0FBa0c7SUFDbEcsaUdBQWlHO0lBQ2pHLGtHQUFrRztJQUNsRywrRkFBK0Y7SUFDL0YsWUFBWTtJQUVDLFFBQUEsZ0JBQWdCLEdBQUcsQ0FBQyxDQUFDO0lBWWxDLFNBQWdCLGdCQUFnQixDQUFDLEtBQVU7UUFDekMsT0FBTyxLQUFLLElBQUksS0FBSyxDQUFDLFVBQVUsS0FBSyxRQUFRLENBQUM7SUFDaEQsQ0FBQztJQUZELDRDQUVDO0lBZUQsU0FBZ0IsZUFBZSxDQUFDLEtBQVU7UUFDeEMsT0FBTyxLQUFLLElBQUksS0FBSyxDQUFDLFVBQVUsS0FBSyxPQUFPLENBQUM7SUFDL0MsQ0FBQztJQUZELDBDQUVDO0lBS0QsU0FBZ0IsbUJBQW1CLENBQUMsS0FBVTtRQUM1QyxPQUFPLEtBQUssSUFBSSxLQUFLLENBQUMsVUFBVSxLQUFLLFdBQVcsQ0FBQztJQUNuRCxDQUFDO0lBRkQsa0RBRUM7SUFXRCxTQUFnQixnQkFBZ0IsQ0FBQyxLQUFVO1FBQ3pDLElBQUksS0FBSyxFQUFFO1lBQ1QsUUFBUSxLQUFLLENBQUMsVUFBVSxFQUFFO2dCQUN4QixLQUFLLGFBQWEsQ0FBQztnQkFDbkIsS0FBSyxRQUFRLENBQUM7Z0JBQ2QsS0FBSyxVQUFVO29CQUNiLE9BQU8sSUFBSSxDQUFDO2FBQ2Y7U0FDRjtRQUNELE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQztJQVZELDRDQVVDO0lBTUQsU0FBZ0IsZ0JBQWdCLENBQUMsS0FBVTtRQUN6QyxPQUFPLEtBQUssSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLEtBQUssYUFBYSxJQUFJLEtBQUss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VSxLQUFLLFdBQVcsQ0FBQztJQUNuRCxDQUFDO0lBSEQsc0ZBR0M7SUFPRCxTQUFnQixrQ0FBa0MsQ0FBQyxLQUFVO1FBRTNELE9BQU8sS0FBSyxJQUFJLEtBQUssQ0FBQyxVQUFVLEtBQUssUUFBUSxDQUFDO0lBQ2hELENBQUM7SUFIRCxnRkFHQztJQU1ELFNBQWdCLGtDQUFrQyxDQUFDLEtBQVU7UUFFM0QsT0FBTyxLQUFLLElBQUksS0FBSyxDQUFDLFVBQVUsS0FBSyxRQUFRLENBQUM7SUFDaEQsQ0FBQztJQUhELGdGQUdDO0lBeUJELFNBQWdCLGVBQWUsQ0FBQyxLQUFVO1FBQ3hDLE9BQU8sS0FBSyxJQUFJLEtBQUssQ0FBQyxVQUFVLEtBQUssT0FBTyxDQUFDO0lBQy9DLENBQUM7SUFGRCwwQ0FFQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cblxuLy8gTWV0YWRhdGEgU2NoZW1hXG5cbi8vIElmIHlvdSBtYWtlIGEgYmFja3dhcmRzIGluY29tcGF0aWJsZSBjaGFuZ2UgdG8gdGhlIHNjaGVtYSwgaW5jcmVtZW50IHRoZSBNRVRBRFRBX1ZFUlNJT04gbnVtYmVyLlxuXG4vLyBJZiB5b3UgbWFrZSBhIGJhY2t3YXJkcyBjb21wYXRpYmxlIGNoYW5nZSB0byB0aGUgbWV0YWRhdGEgKHN1Y2ggYXMgYWRkaW5nIGFuIG9wdGlvbiBmaWVsZCkgdGhlblxuLy8gbGVhdmUgTUVUQURBVEFfVkVSU0lPTiB0aGUgc2FtZS4gSWYgcG9zc2libGUsIHN1cHBseSBhcyBtYW55IHZlcnNpb25zIG9mIHRoZSBtZXRhZGF0YSB0aGF0IGNhblxuLy8gcmVwcmVzZW50IHRoZSBzZW1hbnRpY3Mgb2YgdGhlIGZpbGUgaW4gYW4gYXJyYXkuIEZvciBleGFtcGxlLCB3aGVuIGdlbmVyYXRpbmcgYSB2ZXJzaW9uIDIgZmlsZSxcbi8vIGlmIHZlcnNpb24gMSBjYW4gYWNjdXJhdGVseSByZXByZXNlbnQgdGhlIG1ldGFkYXRhLCBnZW5lcmF0ZSBib3RoIHZlcnNpb24gMSBhbmQgdmVyc2lvbiAyIGluXG4vLyBhbiBhcnJheS5cblxuZXhwb3J0IGNvbnN0IE1FVEFEQVRBX1ZFUlNJT04gPSA0O1xuXG5leHBvcnQgdHlwZSBNZXRhZGF0YUVudHJ5ID0gQ2xhc3NNZXRhZGF0YXxJbnRlcmZhY2VNZXRhZGF0YXxGdW5jdGlvbk1ldGFkYXRhfE1ldGFkYXRhVmFsdWU7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTW9kdWxlTWV0YWRhdGEge1xuICBfX3N5bWJvbGljOiAnbW9kdWxlJztcbiAgdmVyc2lvbjogbnVtYmVyO1xuICBleHBvcnRzPzogTW9kdWxlRXhwb3J0TWV0YWRhdGFbXTtcbiAgaW1wb3J0QXM/OiBzdHJpbmc7XG4gIG1ldGFkYXRhOiB7W25hbWU6IHN0cmluZ106IE1ldGFkYXRhRW50cnl9O1xuICBvcmlnaW5zPzoge1tuYW1lOiBzdHJpbmddOiBzdHJpbmd9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzTW9kdWxlTWV0YWRhdGEodmFsdWU6IGFueSk6IHZhbHVlIGlzIE1vZHVsZU1ldGFkYXRhIHtcbiAgcmV0dXJuIHZhbHVlICYmIHZhbHVlLl9fc3ltYm9saWMgPT09ICdtb2R1bGUnO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1vZHVsZUV4cG9ydE1ldGFkYXRhIHtcbiAgZXhwb3J0PzogKHN0cmluZ3x7bmFtZTogc3RyaW5nLCBhczogc3RyaW5nfSlbXTtcbiAgZnJvbTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENsYXNzTWV0YWRhdGEge1xuICBfX3N5bWJvbGljOiAnY2xhc3MnO1xuICBleHRlbmRzPzogTWV0YWRhdGFTeW1ib2xpY0V4cHJlc3Npb258TWV0YWRhdGFFcnJvcjtcbiAgYXJpdHk/OiBudW1iZXI7XG4gIGRlY29yYXRvcnM/OiAoTWV0YWRhdGFTeW1ib2xpY0V4cHJlc3Npb258TWV0YWRhdGFFcnJvcilbXTtcbiAgbWVtYmVycz86IE1ldGFkYXRhTWFwO1xuICBzdGF0aWNzPzoge1tuYW1lOiBzdHJpbmddOiBNZXRhZGF0YVZhbHVlfEZ1bmN0aW9uTWV0YWRhdGF9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQ2xhc3NNZXRhZGF0YSh2YWx1ZTogYW55KTogdmFsdWUgaXMgQ2xhc3NNZXRhZGF0YSB7XG4gIHJldHVybiB2YWx1ZSAmJiB2YWx1ZS5fX3N5bWJvbGljID09PSAnY2xhc3MnO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEludGVyZmFjZU1ldGFkYXRhIHtcbiAgX19zeW1ib2xpYzogJ2ludGVyZmFjZSc7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNJbnRlcmZhY2VNZXRhZGF0YSh2YWx1ZTogYW55KTogdmFsdWUgaXMgSW50ZXJmYWNlTWV0YWRhdGEge1xuICByZXR1cm4gdmFsdWUgJiYgdmFsdWUuX19zeW1ib2xpYyA9PT0gJ2ludGVyZmFjZSc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWV0YWRhdGFNYXAge1xuICBbbmFtZTogc3RyaW5nXTogTWVtYmVyTWV0YWRhdGFbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNZW1iZXJNZXRhZGF0YSB7XG4gIF9fc3ltYm9saWM6ICdjb25zdHJ1Y3Rvcid8J21ldGhvZCd8J3Byb3BlcnR5JztcbiAgZGVjb3JhdG9ycz86IChNZXRhZGF0YVN5bWJvbGljRXhwcmVzc2lvbnxNZXRhZGF0YUVycm9yKVtdO1xuICBwYXJhbWV0ZXJzPzogKE1ldGFkYXRhU3ltYm9saWNFeHByZXNzaW9ufE1ldGFkYXRhRXJyb3J8bnVsbHx1bmRlZmluZWQpW107XG59XG5leHBvcnQgZnVuY3Rpb24gaXNNZW1iZXJNZXRhZGF0YSh2YWx1ZTogYW55KTogdmFsdWUgaXMgTWVtYmVyTWV0YWRhdGEge1xuICBpZiAodmFsdWUpIHtcbiAgICBzd2l0Y2ggKHZhbHVlLl9fc3ltYm9saWMpIHtcbiAgICAgIGNhc2UgJ2NvbnN0cnVjdG9yJzpcbiAgICAgIGNhc2UgJ21ldGhvZCc6XG4gICAgICBjYXNlICdwcm9wZXJ0eSc6XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWV0aG9kTWV0YWRhdGEgZXh0ZW5kcyBNZW1iZXJNZXRhZGF0YSB7XG4gIF9fc3ltYm9saWM6ICdjb25zdHJ1Y3Rvcid8J21ldGhvZCc7XG4gIHBhcmFtZXRlckRlY29yYXRvcnM/OiAoKE1ldGFkYXRhU3ltYm9saWNFeHByZXNzaW9uIHwgTWV0YWRhdGFFcnJvcilbXXx1bmRlZmluZWQpW107XG59XG5leHBvcnQgZnVuY3Rpb24gaXNNZXRob2RNZXRhZGF0YSh2YWx1ZTogYW55KTogdmFsdWUgaXMgTWV0aG9kTWV0YWRhdGEge1xuICByZXR1cm4gdmFsdWUgJiYgKHZhbHVlLl9fc3ltYm9saWMgPT09ICdjb25zdHJ1Y3RvcicgfHwgdmFsdWUuX19zeW1ib2xpYyA9PT0gJ21ldGhvZCcpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbnN0cnVjdG9yTWV0YWRhdGEgZXh0ZW5kcyBNZXRob2RNZXRhZGF0YSB7XG4gIF9fc3ltYm9saWM6ICdjb25zdHJ1Y3Rvcic7XG4gIHBhcmFtZXRlcnM/OiAoTWV0YWRhdGFTeW1ib2xpY0V4cHJlc3Npb258TWV0YWRhdGFFcnJvcnxudWxsfHVuZGVmaW5lZClbXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0NvbnN0cnVjdG9yTWV0YWRhdGEodmFsdWU6IGFueSk6IHZhbHVlIGlzIENvbnN0cnVjdG9yTWV0YWRhdGEge1xuICByZXR1cm4gdmFsdWUgJiYgdmFsdWUuX19zeW1ib2xpYyA9PT0gJ2NvbnN0cnVjdG9yJztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGdW5jdGlvbk1ldGFkYXRhIHtcbiAgX19zeW1ib2xpYzogJ2Z1bmN0aW9uJztcbiAgcGFyYW1ldGVyczogc3RyaW5nW107XG4gIGRlZmF1bHRzPzogTWV0YWRhdGFWYWx1ZVtdO1xuICB2YWx1ZTogTWV0YWRhdGFWYWx1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uTWV0YWRhdGEodmFsdWU6IGFueSk6IHZhbHVlIGlzIEZ1bmN0aW9uTWV0YWRhdGEge1xuICByZXR1cm4gdmFsdWUgJiYgdmFsdWUuX19zeW1ib2xpYyA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZXhwb3J0IHR5cGUgTWV0YWRhdGFWYWx1ZSA9IHN0cmluZ3xudW1iZXJ8Ym9vbGVhbnx1bmRlZmluZWR8bnVsbHxNZXRhZGF0YU9iamVjdHxNZXRhZGF0YUFycmF5fFxuICAgIE1ldGFkYXRhU3ltYm9saWNFeHByZXNzaW9ufE1ldGFkYXRhU3ltYm9saWNSZWZlcmVuY2VFeHByZXNzaW9ufE1ldGFkYXRhU3ltYm9saWNCaW5hcnlFeHByZXNzaW9ufFxuICAgIE1ldGFkYXRhU3ltYm9saWNJbmRleEV4cHJlc3Npb258TWV0YWRhdGFTeW1ib2xpY0NhbGxFeHByZXNzaW9ufE1ldGFkYXRhU3ltYm9saWNQcmVmaXhFeHByZXNzaW9ufFxuICAgIE1ldGFkYXRhU3ltYm9saWNJZkV4cHJlc3Npb258TWV0YWRhdGFTeW1ib2xpY1NwcmVhZEV4cHJlc3Npb258TWV0YWRhdGFTeW1ib2xpY1NlbGVjdEV4cHJlc3Npb258XG4gICAgTWV0YWRhdGFFcnJvcjtcblxuZXhwb3J0IGludGVyZmFjZSBNZXRhZGF0YU9iamVjdCB7XG4gIFtuYW1lOiBzdHJpbmddOiBNZXRhZGF0YVZhbHVlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1ldGFkYXRhQXJyYXkge1xuICBbbmFtZTogbnVtYmVyXTogTWV0YWRhdGFWYWx1ZTtcbn1cblxuZXhwb3J0IHR5cGUgTWV0YWRhdGFTeW1ib2xpY0V4cHJlc3Npb24gPSBNZXRhZGF0YVN5bWJvbGljQmluYXJ5RXhwcmVzc2lvbnxcbiAgICBNZXRhZGF0YVN5bWJvbGljSW5kZXhFeHByZXNzaW9ufE1ldGFkYXRhU3ltYm9saWNJbmRleEV4cHJlc3Npb258TWV0YWRhdGFTeW1ib2xpY0NhbGxFeHByZXNzaW9ufFxuICAgIE1ldGFkYXRhU3ltYm9saWNDYWxsRXhwcmVzc2lvbnxNZXRhZGF0YVN5bWJvbGljUHJlZml4RXhwcmVzc2lvbnxNZXRhZGF0YVN5bWJvbGljSWZFeHByZXNzaW9ufFxuICAgIE1ldGFkYXRhR2xvYmFsUmVmZXJlbmNlRXhwcmVzc2lvbnxNZXRhZGF0YU1vZHVsZVJlZmVyZW5jZUV4cHJlc3Npb258XG4gICAgTWV0YWRhdGFJbXBvcnRlZFN5bWJvbFJlZmVyZW5jZUV4cHJlc3Npb258TWV0YWRhdGFJbXBvcnRlZERlZmF1bHRSZWZlcmVuY2VFeHByZXNzaW9ufFxuICAgIE1ldGFkYXRhU3ltYm9saWNTZWxlY3RFeHByZXNzaW9ufE1ldGFkYXRhU3ltYm9saWNTcHJlYWRFeHByZXNzaW9uO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNNZXRhZGF0YVN5bWJvbGljRXhwcmVzc2lvbih2YWx1ZTogYW55KTogdmFsdWUgaXMgTWV0YWRhdGFTeW1ib2xpY0V4cHJlc3Npb24ge1xuICBpZiAodmFsdWUpIHtcbiAgICBzd2l0Y2ggKHZhbHVlLl9fc3ltYm9saWMpIHtcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICBjYXNlICdjYWxsJzpcbiAgICAgIGNhc2UgJ2luZGV4JzpcbiAgICAgIGNhc2UgJ25ldyc6XG4gICAgICBjYXNlICdwcmUnOlxuICAgICAgY2FzZSAncmVmZXJlbmNlJzpcbiAgICAgIGNhc2UgJ3NlbGVjdCc6XG4gICAgICBjYXNlICdzcHJlYWQnOlxuICAgICAgY2FzZSAnaWYnOlxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1ldGFkYXRhU3ltYm9saWNCaW5hcnlFeHByZXNzaW9uIHtcbiAgX19zeW1ib2xpYzogJ2JpbmFyeSc7XG4gIG9wZXJhdG9yOiAnJiYnfCd8fCd8J3wnfCdeJ3wnJid8Jz09J3wnIT0nfCc9PT0nfCchPT0nfCc8J3wnPid8Jzw9J3wnPj0nfCdpbnN0YW5jZW9mJ3wnaW4nfCdhcyd8XG4gICAgICAnPDwnfCc+Pid8Jz4+Pid8JysnfCctJ3wnKid8Jy8nfCclJ3wnKionO1xuICBsZWZ0OiBNZXRhZGF0YVZhbHVlO1xuICByaWdodDogTWV0YWRhdGFWYWx1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc01ldGFkYXRhU3ltYm9saWNCaW5hcnlFeHByZXNzaW9uKHZhbHVlOiBhbnkpOlxuICAgIHZhbHVlIGlzIE1ldGFkYXRhU3ltYm9saWNCaW5hcnlFeHByZXNzaW9uIHtcbiAgcmV0dXJuIHZhbHVlICYmIHZhbHVlLl9fc3ltYm9saWMgPT09ICdiaW5hcnknO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1ldGFkYXRhU3ltYm9saWNJbmRleEV4cHJlc3Npb24ge1xuICBfX3N5bWJvbGljOiAnaW5kZXgnO1xuICBleHByZXNzaW9uOiBNZXRhZGF0YVZhbHVlO1xuICBpbmRleDogTWV0YWRhdGFWYWx1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc01ldGFkYXRhU3ltYm9saWNJbmRleEV4cHJlc3Npb24odmFsdWU6IGFueSk6XG4gICAgdmFsdWUgaXMgTWV0YWRhdGFTeW1ib2xpY0luZGV4RXhwcmVzc2lvbiB7XG4gIHJldHVybiB2YWx1ZSAmJiB2YWx1ZS5fX3N5bWJvbGljID09PSAnaW5kZXgnO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1ldGFkYXRhU3ltYm9saWNDYWxsRXhwcmVzc2lvbiB7XG4gIF9fc3ltYm9saWM6ICdjYWxsJ3wnbmV3JztcbiAgZXhwcmVzc2lvbjogTWV0YWRhdGFWYWx1ZTtcbiAgYXJndW1lbnRzPzogTWV0YWRhdGFWYWx1ZVtdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzTWV0YWRhdGFTeW1ib2xpY0NhbGxFeHByZXNzaW9uKHZhbHVlOiBhbnkpOlxuICAgIHZhbHVlIGlzIE1ldGFkYXRhU3ltYm9saWNDYWxsRXhwcmVzc2lvbiB7XG4gIHJldHVybiB2YWx1ZSAmJiAodmFsdWUuX19zeW1ib2xpYyA9PT0gJ2NhbGwnIHx8IHZhbHVlLl9fc3ltYm9saWMgPT09ICduZXcnKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNZXRhZGF0YVN5bWJvbGljUHJlZml4RXhwcmVzc2lvbiB7XG4gIF9fc3ltYm9saWM6ICdwcmUnO1xuICBvcGVyYXRvcjogJysnfCctJ3wnfid8JyEnO1xuICBvcGVyYW5kOiBNZXRhZGF0YVZhbHVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzTWV0YWRhdGFTeW1ib2xpY1ByZWZpeEV4cHJlc3Npb24odmFsdWU6IGFueSk6XG4gICAgdmFsdWUgaXMgTWV0YWRhdGFTeW1ib2xpY1ByZWZpeEV4cHJlc3Npb24ge1xuICByZXR1cm4gdmFsdWUgJiYgdmFsdWUuX19zeW1ib2xpYyA9PT0gJ3ByZSc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWV0YWRhdGFTeW1ib2xpY0lmRXhwcmVzc2lvbiB7XG4gIF9fc3ltYm9saWM6ICdpZic7XG4gIGNvbmRpdGlvbjogTWV0YWRhdGFWYWx1ZTtcbiAgdGhlbkV4cHJlc3Npb246IE1ldGFkYXRhVmFsdWU7XG4gIGVsc2VFeHByZXNzaW9uOiBNZXRhZGF0YVZhbHVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzTWV0YWRhdGFTeW1ib2xpY0lmRXhwcmVzc2lvbih2YWx1ZTogYW55KTogdmFsdWUgaXMgTWV0YWRhdGFTeW1ib2xpY0lmRXhwcmVzc2lvbiB7XG4gIHJldHVybiB2YWx1ZSAmJiB2YWx1ZS5fX3N5bWJvbGljID09PSAnaWYnO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1ldGFkYXRhU291cmNlTG9jYXRpb25JbmZvIHtcbiAgLyoqXG4gICAqIFRoZSBsaW5lIG51bWJlciBvZiB0aGUgZXJyb3IgaW4gdGhlIC50cyBmaWxlIHRoZSBtZXRhZGF0YSB3YXMgY3JlYXRlZCBmb3IuXG4gICAqL1xuICBsaW5lPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgbnVtYmVyIG9mIHV0ZjggY29kZS11bml0cyBmcm9tIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGZpbGUgb2YgdGhlIGVycm9yLlxuICAgKi9cbiAgY2hhcmFjdGVyPzogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1ldGFkYXRhR2xvYmFsUmVmZXJlbmNlRXhwcmVzc2lvbiBleHRlbmRzIE1ldGFkYXRhU291cmNlTG9jYXRpb25JbmZvIHtcbiAgX19zeW1ib2xpYzogJ3JlZmVyZW5jZSc7XG4gIG5hbWU6IHN0cmluZztcbiAgYXJndW1lbnRzPzogTWV0YWRhdGFWYWx1ZVtdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzTWV0YWRhdGFHbG9iYWxSZWZlcmVuY2VFeHByZXNzaW9uKHZhbHVlOiBhbnkpOlxuICAgIHZhbHVlIGlzIE1ldGFkYXRhR2xvYmFsUmVmZXJlbmNlRXhwcmVzc2lvbiB7XG4gIHJldHVybiB2YWx1ZSAmJiB2YWx1ZS5uYW1lICYmICF2YWx1ZS5tb2R1bGUgJiYgaXNNZXRhZGF0YVN5bWJvbGljUmVmZXJlbmNlRXhwcmVzc2lvbih2YWx1ZSk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWV0YWRhdGFNb2R1bGVSZWZlcmVuY2VFeHByZXNzaW9uIGV4dGVuZHMgTWV0YWRhdGFTb3VyY2VMb2NhdGlvbkluZm8ge1xuICBfX3N5bWJvbGljOiAncmVmZXJlbmNlJztcbiAgbW9kdWxlOiBzdHJpbmc7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNNZXRhZGF0YU1vZHVsZVJlZmVyZW5jZUV4cHJlc3Npb24odmFsdWU6IGFueSk6XG4gICAgdmFsdWUgaXMgTWV0YWRhdGFNb2R1bGVSZWZlcmVuY2VFeHByZXNzaW9uIHtcbiAgcmV0dXJuIHZhbHVlICYmIHZhbHVlLm1vZHVsZSAmJiAhdmFsdWUubmFtZSAmJiAhdmFsdWUuZGVmYXVsdCAmJlxuICAgICAgaXNNZXRhZGF0YVN5bWJvbGljUmVmZXJlbmNlRXhwcmVzc2lvbih2YWx1ZSk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWV0YWRhdGFJbXBvcnRlZFN5bWJvbFJlZmVyZW5jZUV4cHJlc3Npb24gZXh0ZW5kcyBNZXRhZGF0YVNvdXJjZUxvY2F0aW9uSW5mbyB7XG4gIF9fc3ltYm9saWM6ICdyZWZlcmVuY2UnO1xuICBtb2R1bGU6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBhcmd1bWVudHM/OiBNZXRhZGF0YVZhbHVlW107XG59XG5leHBvcnQgZnVuY3Rpb24gaXNNZXRhZGF0YUltcG9ydGVkU3ltYm9sUmVmZXJlbmNlRXhwcmVzc2lvbih2YWx1ZTogYW55KTpcbiAgICB2YWx1ZSBpcyBNZXRhZGF0YUltcG9ydGVkU3ltYm9sUmVmZXJlbmNlRXhwcmVzc2lvbiB7XG4gIHJldHVybiB2YWx1ZSAmJiB2YWx1ZS5tb2R1bGUgJiYgISF2YWx1ZS5uYW1lICYmIGlzTWV0YWRhdGFTeW1ib2xpY1JlZmVyZW5jZUV4cHJlc3Npb24odmFsdWUpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1ldGFkYXRhSW1wb3J0ZWREZWZhdWx0UmVmZXJlbmNlRXhwcmVzc2lvbiBleHRlbmRzIE1ldGFkYXRhU291cmNlTG9jYXRpb25JbmZvIHtcbiAgX19zeW1ib2xpYzogJ3JlZmVyZW5jZSc7XG4gIG1vZHVsZTogc3RyaW5nO1xuICBkZWZhdWx0OiBib29sZWFuO1xuICBhcmd1bWVudHM/OiBNZXRhZGF0YVZhbHVlW107XG59XG5leHBvcnQgZnVuY3Rpb24gaXNNZXRhZGF0YUltcG9ydERlZmF1bHRSZWZlcmVuY2UodmFsdWU6IGFueSk6XG4gICAgdmFsdWUgaXMgTWV0YWRhdGFJbXBvcnRlZERlZmF1bHRSZWZlcmVuY2VFeHByZXNzaW9uIHtcbiAgcmV0dXJuIHZhbHVlICYmIHZhbHVlLm1vZHVsZSAmJiB2YWx1ZS5kZWZhdWx0ICYmIGlzTWV0YWRhdGFTeW1ib2xpY1JlZmVyZW5jZUV4cHJlc3Npb24odmFsdWUpO1xufVxuXG5leHBvcnQgdHlwZSBNZXRhZGF0YVN5bWJvbGljUmVmZXJlbmNlRXhwcmVzc2lvbiA9XG4gICAgTWV0YWRhdGFHbG9iYWxSZWZlcmVuY2VFeHByZXNzaW9ufE1ldGFkYXRhTW9kdWxlUmVmZXJlbmNlRXhwcmVzc2lvbnxcbiAgICBNZXRhZGF0YUltcG9ydGVkU3ltYm9sUmVmZXJlbmNlRXhwcmVzc2lvbnxNZXRhZGF0YUltcG9ydGVkRGVmYXVsdFJlZmVyZW5jZUV4cHJlc3Npb247XG5leHBvcnQgZnVuY3Rpb24gaXNNZXRhZGF0YVN5bWJvbGljUmVmZXJlbmNlRXhwcmVzc2lvbih2YWx1ZTogYW55KTpcbiAgICB2YWx1ZSBpcyBNZXRhZGF0YVN5bWJvbGljUmVmZXJlbmNlRXhwcmVzc2lvbiB7XG4gIHJldHVybiB2YWx1ZSAmJiB2YWx1ZS5fX3N5bWJvbGljID09PSAncmVmZXJlbmNlJztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNZXRhZGF0YVN5bWJvbGljU2VsZWN0RXhwcmVzc2lvbiB7XG4gIF9fc3ltYm9saWM6ICdzZWxlY3QnO1xuICBleHByZXNzaW9uOiBNZXRhZGF0YVZhbHVlO1xuICBtZW1iZXI6IHN0cmluZztcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc01ldGFkYXRhU3ltYm9saWNTZWxlY3RFeHByZXNzaW9uKHZhbHVlOiBhbnkpOlxuICAgIHZhbHVlIGlzIE1ldGFkYXRhU3ltYm9saWNTZWxlY3RFeHByZXNzaW9uIHtcbiAgcmV0dXJuIHZhbHVlICYmIHZhbHVlLl9fc3ltYm9saWMgPT09ICdzZWxlY3QnO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1ldGFkYXRhU3ltYm9saWNTcHJlYWRFeHByZXNzaW9uIHtcbiAgX19zeW1ib2xpYzogJ3NwcmVhZCc7XG4gIGV4cHJlc3Npb246IE1ldGFkYXRhVmFsdWU7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNNZXRhZGF0YVN5bWJvbGljU3ByZWFkRXhwcmVzc2lvbih2YWx1ZTogYW55KTpcbiAgICB2YWx1ZSBpcyBNZXRhZGF0YVN5bWJvbGljU3ByZWFkRXhwcmVzc2lvbiB7XG4gIHJldHVybiB2YWx1ZSAmJiB2YWx1ZS5fX3N5bWJvbGljID09PSAnc3ByZWFkJztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNZXRhZGF0YUVycm9yIGV4dGVuZHMgTWV0YWRhdGFTb3VyY2VMb2NhdGlvbkluZm8ge1xuICBfX3N5bWJvbGljOiAnZXJyb3InO1xuXG4gIC8qKlxuICAgKiBUaGlzIG1lc3NhZ2Ugc2hvdWxkIGJlIHNob3J0IGFuZCByZWxhdGl2ZWx5IGRpc2NyaXB0aXZlIGFuZCBzaG91bGQgYmUgZml4ZWQgb25jZSBpdCBpcyBjcmVhdGVkLlxuICAgKiBJZiB0aGUgcmVhZGVyIGRvZXNuJ3QgcmVjb2duaXplIHRoZSBtZXNzYWdlLCBpdCB3aWxsIGRpc3BsYXkgdGhlIG1lc3NhZ2UgdW5tb2RpZmllZC4gSWYgdGhlXG4gICAqIHJlYWRlciByZWNvZ25pemVzIHRoZSBlcnJvciBtZXNzYWdlIGlzIGl0IGZyZWUgdG8gdXNlIHN1YnN0aXR1dGUgbWVzc2FnZSB0aGUgaXMgbW9yZVxuICAgKiBkZXNjcmlwdGl2ZSBhbmQvb3IgbG9jYWxpemVkLlxuICAgKi9cbiAgbWVzc2FnZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgbW9kdWxlIG9mIHRoZSBlcnJvciAob25seSB1c2VkIGluIGJ1bmRsZWQgbWV0YWRhdGEpXG4gICAqL1xuICBtb2R1bGU/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIENvbnRleHQgaW5mb3JtYXRpb24gdGhhdCBjYW4gYmUgdXNlZCB0byBnZW5lcmF0ZSBhIG1vcmUgZGVzY3JpcHRpdmUgZXJyb3IgbWVzc2FnZS4gVGhlIGNvbnRlbnRcbiAgICogb2YgdGhlIGNvbnRleHQgaXMgZGVwZW5kZW50IG9uIHRoZSBlcnJvciBtZXNzYWdlLlxuICAgKi9cbiAgY29udGV4dD86IHtbbmFtZTogc3RyaW5nXTogc3RyaW5nfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTWV0YWRhdGFFcnJvcih2YWx1ZTogYW55KTogdmFsdWUgaXMgTWV0YWRhdGFFcnJvciB7XG4gIHJldHVybiB2YWx1ZSAmJiB2YWx1ZS5fX3N5bWJvbGljID09PSAnZXJyb3InO1xufVxuIl19