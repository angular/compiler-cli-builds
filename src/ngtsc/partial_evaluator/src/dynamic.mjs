/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * Represents a value which cannot be determined statically.
 */
export class DynamicValue {
    constructor(node, reason, code) {
        this.node = node;
        this.reason = reason;
        this.code = code;
    }
    static fromDynamicInput(node, input) {
        return new DynamicValue(node, input, 0 /* DYNAMIC_INPUT */);
    }
    static fromDynamicString(node) {
        return new DynamicValue(node, undefined, 1 /* DYNAMIC_STRING */);
    }
    static fromExternalReference(node, ref) {
        return new DynamicValue(node, ref, 2 /* EXTERNAL_REFERENCE */);
    }
    static fromUnsupportedSyntax(node) {
        return new DynamicValue(node, undefined, 3 /* UNSUPPORTED_SYNTAX */);
    }
    static fromUnknownIdentifier(node) {
        return new DynamicValue(node, undefined, 4 /* UNKNOWN_IDENTIFIER */);
    }
    static fromInvalidExpressionType(node, value) {
        return new DynamicValue(node, value, 5 /* INVALID_EXPRESSION_TYPE */);
    }
    static fromComplexFunctionCall(node, fn) {
        return new DynamicValue(node, fn, 6 /* COMPLEX_FUNCTION_CALL */);
    }
    static fromDynamicType(node) {
        return new DynamicValue(node, undefined, 7 /* DYNAMIC_TYPE */);
    }
    static fromUnknown(node) {
        return new DynamicValue(node, undefined, 8 /* UNKNOWN */);
    }
    isFromDynamicInput() {
        return this.code === 0 /* DYNAMIC_INPUT */;
    }
    isFromDynamicString() {
        return this.code === 1 /* DYNAMIC_STRING */;
    }
    isFromExternalReference() {
        return this.code === 2 /* EXTERNAL_REFERENCE */;
    }
    isFromUnsupportedSyntax() {
        return this.code === 3 /* UNSUPPORTED_SYNTAX */;
    }
    isFromUnknownIdentifier() {
        return this.code === 4 /* UNKNOWN_IDENTIFIER */;
    }
    isFromInvalidExpressionType() {
        return this.code === 5 /* INVALID_EXPRESSION_TYPE */;
    }
    isFromComplexFunctionCall() {
        return this.code === 6 /* COMPLEX_FUNCTION_CALL */;
    }
    isFromDynamicType() {
        return this.code === 7 /* DYNAMIC_TYPE */;
    }
    isFromUnknown() {
        return this.code === 8 /* UNKNOWN */;
    }
    accept(visitor) {
        switch (this.code) {
            case 0 /* DYNAMIC_INPUT */:
                return visitor.visitDynamicInput(this);
            case 1 /* DYNAMIC_STRING */:
                return visitor.visitDynamicString(this);
            case 2 /* EXTERNAL_REFERENCE */:
                return visitor.visitExternalReference(this);
            case 3 /* UNSUPPORTED_SYNTAX */:
                return visitor.visitUnsupportedSyntax(this);
            case 4 /* UNKNOWN_IDENTIFIER */:
                return visitor.visitUnknownIdentifier(this);
            case 5 /* INVALID_EXPRESSION_TYPE */:
                return visitor.visitInvalidExpressionType(this);
            case 6 /* COMPLEX_FUNCTION_CALL */:
                return visitor.visitComplexFunctionCall(this);
            case 7 /* DYNAMIC_TYPE */:
                return visitor.visitDynamicType(this);
            case 8 /* UNKNOWN */:
                return visitor.visitUnknown(this);
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZHluYW1pYy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3BhY2thZ2VzL2NvbXBpbGVyLWNsaS9zcmMvbmd0c2MvcGFydGlhbF9ldmFsdWF0b3Ivc3JjL2R5bmFtaWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7OztHQU1HO0FBK0VIOztHQUVHO0FBQ0gsTUFBTSxPQUFPLFlBQVk7SUFDdkIsWUFDYSxJQUFhLEVBQVcsTUFBUyxFQUFVLElBQXdCO1FBQW5FLFNBQUksR0FBSixJQUFJLENBQVM7UUFBVyxXQUFNLEdBQU4sTUFBTSxDQUFHO1FBQVUsU0FBSSxHQUFKLElBQUksQ0FBb0I7SUFBRyxDQUFDO0lBRXBGLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFhLEVBQUUsS0FBbUI7UUFDeEQsT0FBTyxJQUFJLFlBQVksQ0FBQyxJQUFJLEVBQUUsS0FBSyx3QkFBbUMsQ0FBQztJQUN6RSxDQUFDO0lBRUQsTUFBTSxDQUFDLGlCQUFpQixDQUFDLElBQWE7UUFDcEMsT0FBTyxJQUFJLFlBQVksQ0FBQyxJQUFJLEVBQUUsU0FBUyx5QkFBb0MsQ0FBQztJQUM5RSxDQUFDO0lBRUQsTUFBTSxDQUFDLHFCQUFxQixDQUFDLElBQWEsRUFBRSxHQUE4QjtRQUV4RSxPQUFPLElBQUksWUFBWSxDQUFDLElBQUksRUFBRSxHQUFHLDZCQUF3QyxDQUFDO0lBQzVFLENBQUM7SUFFRCxNQUFNLENBQUMscUJBQXFCLENBQUMsSUFBYTtRQUN4QyxPQUFPLElBQUksWUFBWSxDQUFDLElBQUksRUFBRSxTQUFTLDZCQUF3QyxDQUFDO0lBQ2xGLENBQUM7SUFFRCxNQUFNLENBQUMscUJBQXFCLENBQUMsSUFBbUI7UUFDOUMsT0FBTyxJQUFJLFlBQVksQ0FBQyxJQUFJLEVBQUUsU0FBUyw2QkFBd0MsQ0FBQztJQUNsRixDQUFDO0lBRUQsTUFBTSxDQUFDLHlCQUF5QixDQUFDLElBQWEsRUFBRSxLQUFjO1FBQzVELE9BQU8sSUFBSSxZQUFZLENBQUMsSUFBSSxFQUFFLEtBQUssa0NBQTZDLENBQUM7SUFDbkYsQ0FBQztJQUVELE1BQU0sQ0FBQyx1QkFBdUIsQ0FBQyxJQUFhLEVBQUUsRUFBc0I7UUFFbEUsT0FBTyxJQUFJLFlBQVksQ0FBQyxJQUFJLEVBQUUsRUFBRSxnQ0FBMkMsQ0FBQztJQUM5RSxDQUFDO0lBRUQsTUFBTSxDQUFDLGVBQWUsQ0FBQyxJQUFpQjtRQUN0QyxPQUFPLElBQUksWUFBWSxDQUFDLElBQUksRUFBRSxTQUFTLHVCQUFrQyxDQUFDO0lBQzVFLENBQUM7SUFFRCxNQUFNLENBQUMsV0FBVyxDQUFDLElBQWE7UUFDOUIsT0FBTyxJQUFJLFlBQVksQ0FBQyxJQUFJLEVBQUUsU0FBUyxrQkFBNkIsQ0FBQztJQUN2RSxDQUFDO0lBRUQsa0JBQWtCO1FBQ2hCLE9BQU8sSUFBSSxDQUFDLElBQUksMEJBQXFDLENBQUM7SUFDeEQsQ0FBQztJQUVELG1CQUFtQjtRQUNqQixPQUFPLElBQUksQ0FBQyxJQUFJLDJCQUFzQyxDQUFDO0lBQ3pELENBQUM7SUFFRCx1QkFBdUI7UUFDckIsT0FBTyxJQUFJLENBQUMsSUFBSSwrQkFBMEMsQ0FBQztJQUM3RCxDQUFDO0lBRUQsdUJBQXVCO1FBQ3JCLE9BQU8sSUFBSSxDQUFDLElBQUksK0JBQTBDLENBQUM7SUFDN0QsQ0FBQztJQUVELHVCQUF1QjtRQUNyQixPQUFPLElBQUksQ0FBQyxJQUFJLCtCQUEwQyxDQUFDO0lBQzdELENBQUM7SUFFRCwyQkFBMkI7UUFDekIsT0FBTyxJQUFJLENBQUMsSUFBSSxvQ0FBK0MsQ0FBQztJQUNsRSxDQUFDO0lBRUQseUJBQXlCO1FBQ3ZCLE9BQU8sSUFBSSxDQUFDLElBQUksa0NBQTZDLENBQUM7SUFDaEUsQ0FBQztJQUVELGlCQUFpQjtRQUNmLE9BQU8sSUFBSSxDQUFDLElBQUkseUJBQW9DLENBQUM7SUFDdkQsQ0FBQztJQUVELGFBQWE7UUFDWCxPQUFPLElBQUksQ0FBQyxJQUFJLG9CQUErQixDQUFDO0lBQ2xELENBQUM7SUFFRCxNQUFNLENBQUksT0FBK0I7UUFDdkMsUUFBUSxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ2pCO2dCQUNFLE9BQU8sT0FBTyxDQUFDLGlCQUFpQixDQUFDLElBQTZDLENBQUMsQ0FBQztZQUNsRjtnQkFDRSxPQUFPLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUMxQztnQkFDRSxPQUFPLE9BQU8sQ0FBQyxzQkFBc0IsQ0FDakMsSUFBMEQsQ0FBQyxDQUFDO1lBQ2xFO2dCQUNFLE9BQU8sT0FBTyxDQUFDLHNCQUFzQixDQUFDLElBQUksQ0FBQyxDQUFDO1lBQzlDO2dCQUNFLE9BQU8sT0FBTyxDQUFDLHNCQUFzQixDQUFDLElBQUksQ0FBQyxDQUFDO1lBQzlDO2dCQUNFLE9BQU8sT0FBTyxDQUFDLDBCQUEwQixDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ2xEO2dCQUNFLE9BQU8sT0FBTyxDQUFDLHdCQUF3QixDQUNuQyxJQUFtRCxDQUFDLENBQUM7WUFDM0Q7Z0JBQ0UsT0FBTyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDeEM7Z0JBQ0UsT0FBTyxPQUFPLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ3JDO0lBQ0gsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5cbmltcG9ydCAqIGFzIHRzIGZyb20gJ3R5cGVzY3JpcHQnO1xuXG5pbXBvcnQge1JlZmVyZW5jZX0gZnJvbSAnLi4vLi4vaW1wb3J0cyc7XG5pbXBvcnQge0Z1bmN0aW9uRGVmaW5pdGlvbn0gZnJvbSAnLi4vLi4vcmVmbGVjdGlvbic7XG5cbi8qKlxuICogVGhlIHJlYXNvbiB3aHkgYSB2YWx1ZSBjYW5ub3QgYmUgZGV0ZXJtaW5lZCBzdGF0aWNhbGx5LlxuICovXG5leHBvcnQgY29uc3QgZW51bSBEeW5hbWljVmFsdWVSZWFzb24ge1xuICAvKipcbiAgICogQSB2YWx1ZSBjb3VsZCBub3QgYmUgZGV0ZXJtaW5lZCBzdGF0aWNhbGx5LCBiZWNhdXNlIGl0IGNvbnRhaW5zIGEgdGVybSB0aGF0IGNvdWxkIG5vdCBiZVxuICAgKiBkZXRlcm1pbmVkIHN0YXRpY2FsbHkuXG4gICAqIChFLmcuIGEgcHJvcGVydHkgYXNzaWdubWVudCBvciBjYWxsIGV4cHJlc3Npb24gd2hlcmUgdGhlIGxocyBpcyBhIGBEeW5hbWljVmFsdWVgLCBhIHRlbXBsYXRlXG4gICAqIGxpdGVyYWwgd2l0aCBhIGR5bmFtaWMgZXhwcmVzc2lvbiwgYW4gb2JqZWN0IGxpdGVyYWwgd2l0aCBhIHNwcmVhZCBhc3NpZ25tZW50IHdoaWNoIGNvdWxkIG5vdFxuICAgKiBiZSBkZXRlcm1pbmVkIHN0YXRpY2FsbHksIGV0Yy4pXG4gICAqL1xuICBEWU5BTUlDX0lOUFVULFxuXG4gIC8qKlxuICAgKiBBIHN0cmluZyBjb3VsZCBub3QgYmUgc3RhdGljYWxseSBldmFsdWF0ZWQuXG4gICAqIChFLmcuIGEgZHluYW1pY2FsbHkgY29uc3RydWN0ZWQgb2JqZWN0IHByb3BlcnR5IG5hbWUgb3IgYSB0ZW1wbGF0ZSBsaXRlcmFsIGV4cHJlc3Npb24gdGhhdFxuICAgKiBjb3VsZCBub3QgYmUgc3RhdGljYWxseSByZXNvbHZlZCB0byBhIHByaW1pdGl2ZSB2YWx1ZS4pXG4gICAqL1xuICBEWU5BTUlDX1NUUklORyxcblxuICAvKipcbiAgICogQW4gZXh0ZXJuYWwgcmVmZXJlbmNlIGNvdWxkIG5vdCBiZSByZXNvbHZlZCB0byBhIHZhbHVlIHdoaWNoIGNhbiBiZSBldmFsdWF0ZWQuXG4gICAqIEZvciBleGFtcGxlIGEgY2FsbCBleHByZXNzaW9uIGZvciBhIGZ1bmN0aW9uIGRlY2xhcmVkIGluIGAuZC50c2AsIG9yIGFjY2Vzc2luZyBuYXRpdmUgZ2xvYmFsc1xuICAgKiBzdWNoIGFzIGB3aW5kb3dgLlxuICAgKi9cbiAgRVhURVJOQUxfUkVGRVJFTkNFLFxuXG4gIC8qKlxuICAgKiBTeW50YXggdGhhdCBgU3RhdGljSW50ZXJwcmV0ZXJgIGRvZXNuJ3Qga25vdyBob3cgdG8gZXZhbHVhdGUsIGZvciBleGFtcGxlIGEgdHlwZSBvZlxuICAgKiBgdHMuRXhwcmVzc2lvbmAgdGhhdCBpcyBub3Qgc3VwcG9ydGVkLlxuICAgKi9cbiAgVU5TVVBQT1JURURfU1lOVEFYLFxuXG4gIC8qKlxuICAgKiBBIGRlY2xhcmF0aW9uIG9mIGEgYHRzLklkZW50aWZpZXJgIGNvdWxkIG5vdCBiZSBmb3VuZC5cbiAgICovXG4gIFVOS05PV05fSURFTlRJRklFUixcblxuICAvKipcbiAgICogQSB2YWx1ZSBjb3VsZCBiZSByZXNvbHZlZCwgYnV0IGlzIG5vdCBhbiBhY2NlcHRhYmxlIHR5cGUgZm9yIHRoZSBvcGVyYXRpb24gYmVpbmcgcGVyZm9ybWVkLlxuICAgKlxuICAgKiBGb3IgZXhhbXBsZSwgYXR0ZW1wdGluZyB0byBjYWxsIGEgbm9uLWNhbGxhYmxlIGV4cHJlc3Npb24uXG4gICAqL1xuICBJTlZBTElEX0VYUFJFU1NJT05fVFlQRSxcblxuICAvKipcbiAgICogQSBmdW5jdGlvbiBjYWxsIGNvdWxkIG5vdCBiZSBldmFsdWF0ZWQgYXMgdGhlIGZ1bmN0aW9uJ3MgYm9keSBpcyBub3QgYSBzaW5nbGUgcmV0dXJuIHN0YXRlbWVudC5cbiAgICovXG4gIENPTVBMRVhfRlVOQ1RJT05fQ0FMTCxcblxuICAvKipcbiAgICogQSB2YWx1ZSB0aGF0IGNvdWxkIG5vdCBiZSBkZXRlcm1pbmVkIGJlY2F1c2UgaXQgY29udGFpbnMgdHlwZSBpbmZvcm1hdGlvbiB0aGF0IGNhbm5vdCBiZVxuICAgKiBzdGF0aWNhbGx5IGV2YWx1YXRlZC4gVGhpcyBoYXBwZW5zIHdoZW4gcHJvZHVjaW5nIGEgdmFsdWUgZnJvbSB0eXBlIGluZm9ybWF0aW9uLCBidXQgdGhlIHZhbHVlXG4gICAqIG9mIHRoZSBnaXZlbiB0eXBlIGNhbm5vdCBiZSBkZXRlcm1pbmVkIHN0YXRpY2FsbHkuXG4gICAqXG4gICAqIEUuZy4gZXZhbHVhdGluZyBhIHR1cGxlLlxuICAgKlxuICAgKiAgIGBkZWNsYXJlIGNvbnN0IGZvbzogW3N0cmluZ107YFxuICAgKlxuICAgKiAgRXZhbHVhdGluZyBgZm9vYCBnaXZlcyBhIER5bmFtaWNWYWx1ZSB3cmFwcGVkIGluIGFuIGFycmF5IHdpdGggYSByZWFzb24gb2YgRFlOQU1JQ19UWVBFLiBUaGlzXG4gICAqIGlzIGJlY2F1c2UgdGhlIHN0YXRpYyBldmFsdWF0b3IgaGFzIGEgYHN0cmluZ2AgdHlwZSBmb3IgdGhlIGZpcnN0IGVsZW1lbnQgb2YgdGhpcyB0dXBsZSwgYW5kXG4gICAqIHRoZSB2YWx1ZSBvZiB0aGF0IHN0cmluZyBjYW5ub3QgYmUgZGV0ZXJtaW5lZCBzdGF0aWNhbGx5LiBUaGUgdHlwZSBgc3RyaW5nYCBwZXJtaXRzIGl0IHRvIGJlXG4gICAqICdmb28nLCAnYmFyJyBvciBhbnkgYXJiaXRyYXJ5IHN0cmluZywgc28gd2UgZXZhbHVhdGUgaXQgdG8gYSBEeW5hbWljVmFsdWUuXG4gICAqL1xuICBEWU5BTUlDX1RZUEUsXG5cbiAgLyoqXG4gICAqIEEgdmFsdWUgY291bGQgbm90IGJlIGRldGVybWluZWQgc3RhdGljYWxseSBmb3IgYW55IHJlYXNvbiBvdGhlciB0aGUgYWJvdmUuXG4gICAqL1xuICBVTktOT1dOLFxufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgYSB2YWx1ZSB3aGljaCBjYW5ub3QgYmUgZGV0ZXJtaW5lZCBzdGF0aWNhbGx5LlxuICovXG5leHBvcnQgY2xhc3MgRHluYW1pY1ZhbHVlPFIgPSB1bmtub3duPiB7XG4gIHByaXZhdGUgY29uc3RydWN0b3IoXG4gICAgICByZWFkb25seSBub2RlOiB0cy5Ob2RlLCByZWFkb25seSByZWFzb246IFIsIHByaXZhdGUgY29kZTogRHluYW1pY1ZhbHVlUmVhc29uKSB7fVxuXG4gIHN0YXRpYyBmcm9tRHluYW1pY0lucHV0KG5vZGU6IHRzLk5vZGUsIGlucHV0OiBEeW5hbWljVmFsdWUpOiBEeW5hbWljVmFsdWU8RHluYW1pY1ZhbHVlPiB7XG4gICAgcmV0dXJuIG5ldyBEeW5hbWljVmFsdWUobm9kZSwgaW5wdXQsIER5bmFtaWNWYWx1ZVJlYXNvbi5EWU5BTUlDX0lOUFVUKTtcbiAgfVxuXG4gIHN0YXRpYyBmcm9tRHluYW1pY1N0cmluZyhub2RlOiB0cy5Ob2RlKTogRHluYW1pY1ZhbHVlIHtcbiAgICByZXR1cm4gbmV3IER5bmFtaWNWYWx1ZShub2RlLCB1bmRlZmluZWQsIER5bmFtaWNWYWx1ZVJlYXNvbi5EWU5BTUlDX1NUUklORyk7XG4gIH1cblxuICBzdGF0aWMgZnJvbUV4dGVybmFsUmVmZXJlbmNlKG5vZGU6IHRzLk5vZGUsIHJlZjogUmVmZXJlbmNlPHRzLkRlY2xhcmF0aW9uPik6XG4gICAgICBEeW5hbWljVmFsdWU8UmVmZXJlbmNlPHRzLkRlY2xhcmF0aW9uPj4ge1xuICAgIHJldHVybiBuZXcgRHluYW1pY1ZhbHVlKG5vZGUsIHJlZiwgRHluYW1pY1ZhbHVlUmVhc29uLkVYVEVSTkFMX1JFRkVSRU5DRSk7XG4gIH1cblxuICBzdGF0aWMgZnJvbVVuc3VwcG9ydGVkU3ludGF4KG5vZGU6IHRzLk5vZGUpOiBEeW5hbWljVmFsdWUge1xuICAgIHJldHVybiBuZXcgRHluYW1pY1ZhbHVlKG5vZGUsIHVuZGVmaW5lZCwgRHluYW1pY1ZhbHVlUmVhc29uLlVOU1VQUE9SVEVEX1NZTlRBWCk7XG4gIH1cblxuICBzdGF0aWMgZnJvbVVua25vd25JZGVudGlmaWVyKG5vZGU6IHRzLklkZW50aWZpZXIpOiBEeW5hbWljVmFsdWUge1xuICAgIHJldHVybiBuZXcgRHluYW1pY1ZhbHVlKG5vZGUsIHVuZGVmaW5lZCwgRHluYW1pY1ZhbHVlUmVhc29uLlVOS05PV05fSURFTlRJRklFUik7XG4gIH1cblxuICBzdGF0aWMgZnJvbUludmFsaWRFeHByZXNzaW9uVHlwZShub2RlOiB0cy5Ob2RlLCB2YWx1ZTogdW5rbm93bik6IER5bmFtaWNWYWx1ZTx1bmtub3duPiB7XG4gICAgcmV0dXJuIG5ldyBEeW5hbWljVmFsdWUobm9kZSwgdmFsdWUsIER5bmFtaWNWYWx1ZVJlYXNvbi5JTlZBTElEX0VYUFJFU1NJT05fVFlQRSk7XG4gIH1cblxuICBzdGF0aWMgZnJvbUNvbXBsZXhGdW5jdGlvbkNhbGwobm9kZTogdHMuTm9kZSwgZm46IEZ1bmN0aW9uRGVmaW5pdGlvbik6XG4gICAgICBEeW5hbWljVmFsdWU8RnVuY3Rpb25EZWZpbml0aW9uPiB7XG4gICAgcmV0dXJuIG5ldyBEeW5hbWljVmFsdWUobm9kZSwgZm4sIER5bmFtaWNWYWx1ZVJlYXNvbi5DT01QTEVYX0ZVTkNUSU9OX0NBTEwpO1xuICB9XG5cbiAgc3RhdGljIGZyb21EeW5hbWljVHlwZShub2RlOiB0cy5UeXBlTm9kZSk6IER5bmFtaWNWYWx1ZSB7XG4gICAgcmV0dXJuIG5ldyBEeW5hbWljVmFsdWUobm9kZSwgdW5kZWZpbmVkLCBEeW5hbWljVmFsdWVSZWFzb24uRFlOQU1JQ19UWVBFKTtcbiAgfVxuXG4gIHN0YXRpYyBmcm9tVW5rbm93bihub2RlOiB0cy5Ob2RlKTogRHluYW1pY1ZhbHVlIHtcbiAgICByZXR1cm4gbmV3IER5bmFtaWNWYWx1ZShub2RlLCB1bmRlZmluZWQsIER5bmFtaWNWYWx1ZVJlYXNvbi5VTktOT1dOKTtcbiAgfVxuXG4gIGlzRnJvbUR5bmFtaWNJbnB1dCh0aGlzOiBEeW5hbWljVmFsdWU8Uj4pOiB0aGlzIGlzIER5bmFtaWNWYWx1ZTxEeW5hbWljVmFsdWU+IHtcbiAgICByZXR1cm4gdGhpcy5jb2RlID09PSBEeW5hbWljVmFsdWVSZWFzb24uRFlOQU1JQ19JTlBVVDtcbiAgfVxuXG4gIGlzRnJvbUR5bmFtaWNTdHJpbmcodGhpczogRHluYW1pY1ZhbHVlPFI+KTogdGhpcyBpcyBEeW5hbWljVmFsdWUge1xuICAgIHJldHVybiB0aGlzLmNvZGUgPT09IER5bmFtaWNWYWx1ZVJlYXNvbi5EWU5BTUlDX1NUUklORztcbiAgfVxuXG4gIGlzRnJvbUV4dGVybmFsUmVmZXJlbmNlKHRoaXM6IER5bmFtaWNWYWx1ZTxSPik6IHRoaXMgaXMgRHluYW1pY1ZhbHVlPFJlZmVyZW5jZTx0cy5EZWNsYXJhdGlvbj4+IHtcbiAgICByZXR1cm4gdGhpcy5jb2RlID09PSBEeW5hbWljVmFsdWVSZWFzb24uRVhURVJOQUxfUkVGRVJFTkNFO1xuICB9XG5cbiAgaXNGcm9tVW5zdXBwb3J0ZWRTeW50YXgodGhpczogRHluYW1pY1ZhbHVlPFI+KTogdGhpcyBpcyBEeW5hbWljVmFsdWUge1xuICAgIHJldHVybiB0aGlzLmNvZGUgPT09IER5bmFtaWNWYWx1ZVJlYXNvbi5VTlNVUFBPUlRFRF9TWU5UQVg7XG4gIH1cblxuICBpc0Zyb21Vbmtub3duSWRlbnRpZmllcih0aGlzOiBEeW5hbWljVmFsdWU8Uj4pOiB0aGlzIGlzIER5bmFtaWNWYWx1ZSB7XG4gICAgcmV0dXJuIHRoaXMuY29kZSA9PT0gRHluYW1pY1ZhbHVlUmVhc29uLlVOS05PV05fSURFTlRJRklFUjtcbiAgfVxuXG4gIGlzRnJvbUludmFsaWRFeHByZXNzaW9uVHlwZSh0aGlzOiBEeW5hbWljVmFsdWU8Uj4pOiB0aGlzIGlzIER5bmFtaWNWYWx1ZTx1bmtub3duPiB7XG4gICAgcmV0dXJuIHRoaXMuY29kZSA9PT0gRHluYW1pY1ZhbHVlUmVhc29uLklOVkFMSURfRVhQUkVTU0lPTl9UWVBFO1xuICB9XG5cbiAgaXNGcm9tQ29tcGxleEZ1bmN0aW9uQ2FsbCh0aGlzOiBEeW5hbWljVmFsdWU8Uj4pOiB0aGlzIGlzIER5bmFtaWNWYWx1ZTxGdW5jdGlvbkRlZmluaXRpb24+IHtcbiAgICByZXR1cm4gdGhpcy5jb2RlID09PSBEeW5hbWljVmFsdWVSZWFzb24uQ09NUExFWF9GVU5DVElPTl9DQUxMO1xuICB9XG5cbiAgaXNGcm9tRHluYW1pY1R5cGUodGhpczogRHluYW1pY1ZhbHVlPFI+KTogdGhpcyBpcyBEeW5hbWljVmFsdWUge1xuICAgIHJldHVybiB0aGlzLmNvZGUgPT09IER5bmFtaWNWYWx1ZVJlYXNvbi5EWU5BTUlDX1RZUEU7XG4gIH1cblxuICBpc0Zyb21Vbmtub3duKHRoaXM6IER5bmFtaWNWYWx1ZTxSPik6IHRoaXMgaXMgRHluYW1pY1ZhbHVlIHtcbiAgICByZXR1cm4gdGhpcy5jb2RlID09PSBEeW5hbWljVmFsdWVSZWFzb24uVU5LTk9XTjtcbiAgfVxuXG4gIGFjY2VwdDxSPih2aXNpdG9yOiBEeW5hbWljVmFsdWVWaXNpdG9yPFI+KTogUiB7XG4gICAgc3dpdGNoICh0aGlzLmNvZGUpIHtcbiAgICAgIGNhc2UgRHluYW1pY1ZhbHVlUmVhc29uLkRZTkFNSUNfSU5QVVQ6XG4gICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0RHluYW1pY0lucHV0KHRoaXMgYXMgdW5rbm93biBhcyBEeW5hbWljVmFsdWU8RHluYW1pY1ZhbHVlPik7XG4gICAgICBjYXNlIER5bmFtaWNWYWx1ZVJlYXNvbi5EWU5BTUlDX1NUUklORzpcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXREeW5hbWljU3RyaW5nKHRoaXMpO1xuICAgICAgY2FzZSBEeW5hbWljVmFsdWVSZWFzb24uRVhURVJOQUxfUkVGRVJFTkNFOlxuICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdEV4dGVybmFsUmVmZXJlbmNlKFxuICAgICAgICAgICAgdGhpcyBhcyB1bmtub3duIGFzIER5bmFtaWNWYWx1ZTxSZWZlcmVuY2U8dHMuRGVjbGFyYXRpb24+Pik7XG4gICAgICBjYXNlIER5bmFtaWNWYWx1ZVJlYXNvbi5VTlNVUFBPUlRFRF9TWU5UQVg6XG4gICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0VW5zdXBwb3J0ZWRTeW50YXgodGhpcyk7XG4gICAgICBjYXNlIER5bmFtaWNWYWx1ZVJlYXNvbi5VTktOT1dOX0lERU5USUZJRVI6XG4gICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0VW5rbm93bklkZW50aWZpZXIodGhpcyk7XG4gICAgICBjYXNlIER5bmFtaWNWYWx1ZVJlYXNvbi5JTlZBTElEX0VYUFJFU1NJT05fVFlQRTpcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRJbnZhbGlkRXhwcmVzc2lvblR5cGUodGhpcyk7XG4gICAgICBjYXNlIER5bmFtaWNWYWx1ZVJlYXNvbi5DT01QTEVYX0ZVTkNUSU9OX0NBTEw6XG4gICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0Q29tcGxleEZ1bmN0aW9uQ2FsbChcbiAgICAgICAgICAgIHRoaXMgYXMgdW5rbm93biBhcyBEeW5hbWljVmFsdWU8RnVuY3Rpb25EZWZpbml0aW9uPik7XG4gICAgICBjYXNlIER5bmFtaWNWYWx1ZVJlYXNvbi5EWU5BTUlDX1RZUEU6XG4gICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0RHluYW1pY1R5cGUodGhpcyk7XG4gICAgICBjYXNlIER5bmFtaWNWYWx1ZVJlYXNvbi5VTktOT1dOOlxuICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdFVua25vd24odGhpcyk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRHluYW1pY1ZhbHVlVmlzaXRvcjxSPiB7XG4gIHZpc2l0RHluYW1pY0lucHV0KHZhbHVlOiBEeW5hbWljVmFsdWU8RHluYW1pY1ZhbHVlPik6IFI7XG4gIHZpc2l0RHluYW1pY1N0cmluZyh2YWx1ZTogRHluYW1pY1ZhbHVlKTogUjtcbiAgdmlzaXRFeHRlcm5hbFJlZmVyZW5jZSh2YWx1ZTogRHluYW1pY1ZhbHVlPFJlZmVyZW5jZTx0cy5EZWNsYXJhdGlvbj4+KTogUjtcbiAgdmlzaXRVbnN1cHBvcnRlZFN5bnRheCh2YWx1ZTogRHluYW1pY1ZhbHVlKTogUjtcbiAgdmlzaXRVbmtub3duSWRlbnRpZmllcih2YWx1ZTogRHluYW1pY1ZhbHVlKTogUjtcbiAgdmlzaXRJbnZhbGlkRXhwcmVzc2lvblR5cGUodmFsdWU6IER5bmFtaWNWYWx1ZSk6IFI7XG4gIHZpc2l0Q29tcGxleEZ1bmN0aW9uQ2FsbCh2YWx1ZTogRHluYW1pY1ZhbHVlPEZ1bmN0aW9uRGVmaW5pdGlvbj4pOiBSO1xuICB2aXNpdER5bmFtaWNUeXBlKHZhbHVlOiBEeW5hbWljVmFsdWUpOiBSO1xuICB2aXNpdFVua25vd24odmFsdWU6IER5bmFtaWNWYWx1ZSk6IFI7XG59XG4iXX0=